<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asset ID Extractor</title>
</head>
<body>
    <script>
        async function fetchAndWriteAssetIds() {
            const repositoryUrl = "https://api.github.com/repos/zeak6464/Spine2D-Master-Duel/contents/master%20duel";
            const response = await fetch(repositoryUrl);
            const files = await response.json();

            // Filter files with P#JS.asset pattern and extract #
            const assetIds = files
                .filter(file => file.type === "file" && file.name.match(/^P\d+JS\.asset$/))
                .map(file => file.name.match(/^P(\d+)JS\.asset$/)[1]);

            // Write asset IDs to a text file
            const assetIdText = assetIds.join("\n");
            const blob = new Blob([assetIdText], { type: "text/plain" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "asset_ids.txt";
            document.body.appendChild(a);
            a.click();
            URL.revokeObjectURL(url);
        }

        fetchAndWriteAssetIds();
    </script>
</body>
</html>
